# 为什么 MySQL 选择使用 B+ 树作为索引结构？

## 思路：

1. 首先应该谈一谈其他的基本数据结构缺点
2. 简述 B+ 树的结构，说出 B+ 树比上述数据结构的优点

## 简答：

### 哈希表

哈希表的优势是查询速度极快，等值查询是O(1)的时间复杂度，但是由于哈希表存储数据的无序性，使得哈希表很难实现范围查询，此外还可能会出现哈希冲突。

（没办法范围查询）

### 二叉树

1. 二叉树由于每个节点只有两个子节点，这导致了在存储大量数据的时候会导致树的高度过高。
2. 范围查询性能差，对二叉树进行中序遍历的时间复杂度是 O(n)
3. 在一些数据连续顺序存储的情况下，二叉树会退化为链表

（树的高度过高，范围查询性能差，二叉树并非平衡树）

### 红黑树

红黑树本质上是一种自平衡的二叉树，也就是说红黑树仍然没有解决树高，范围查询性能差的问题。

### B 树

1. B 树作为一种多路平衡的树，解决了树高的问题。但是由于 B 树的范围查询仍然需要执行中序遍历，他的范围查询能力仍然较差。
2. B 树的所有节点都存储数据，这样会导致查询时间不稳定的问题，靠近根节点的数据查询时间较短，远离根节点的数据查询较慢。

### B+ 树

1. B+ 树是多路平衡的树，树高增长不会过快，三到四层树即可存储千万级的数据。（IO 性能好）
2. B+ 树叶子节点使用双向链表，在范围查询时可以顺序查询，效率很高。（范围查询强）
3. B+ 树所有数据存在叶子节点，这样会使得查询性能很平衡，因为每次查询都要进入叶子节点。（查询性能稳定）