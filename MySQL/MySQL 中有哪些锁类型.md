# MySQL 中有哪些锁类型？

## 按照锁的粒度划分

1. 全局锁

锁定整个数据库，一般是在进行全库逻辑备份的时候使用，在这种情况下，会阻塞所有的读写操作。

2. 表级锁

对整个表进行锁定，一般是在对全表进行操作，批量数据处理，或者是系统维护的时候使用。在这种情况下，其他事务无法对该表进行任何的读写操作。

> 意向锁: 快速判断表中是否有行锁，避免逐行检查。

> 元数据锁: 防止 DDL 与 DML 操作冲突。

3. 行级锁

对表中的特定行加锁，允许其他事务对其他行进行读写操作，一般适用于高并发场景。

> 间隙锁: 针对索引中两个记录之间的间隙加锁，防止事务在两个记录之间插入新记录，他并不会锁定具体行，而是锁定行之间的间隙。

> 临键锁: 锁定具体行和行之前的间隙，防止其他事务插入新记录。

> 插入意向锁: 这种锁很像是一种提前占位的做法，使得在插入相同间隙内的不同插入点时可以并发操作。

## 按照锁的功能分类

1. 共享锁

这种锁允许多个事务同时读取，但是不允许修改，并且会阻止其他事务获取排他锁。

2. 排他锁

这种锁会阻止其他任何的锁，只允许一个事务进行修改，保证数据修改的排他性。

## 特殊锁

1. 自增锁

是一种针对自增列的特殊表级锁，在事务插入自增字段的时候加锁。

