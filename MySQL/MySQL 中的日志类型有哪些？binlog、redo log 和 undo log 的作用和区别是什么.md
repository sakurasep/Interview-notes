# MySQL 中的日志类型有哪些？binlog、redo log 和 undo log 的作用和区别是什么

|   日志类型   | 所属层级  |                        作用                        | 是否必开启 |
| :----------: | :-------: | :------------------------------------------------: | :--------: |
|  **Binlog**  | Server 层 |  记录所有写操作的逻辑日志，用于主从复制、数据恢复  |    可选    |
| **Redo Log** | InnoDB 层 | 记录数据页的物理修改，保证事务的持久性（崩溃恢复） |   必开启   |
| **Undo Log** | InnoDB 层 |      记录事务修改前的数据，用于回滚和 MVCC 读      |   必开启   |

## Binlog（二进制日志）

MySQL 中记录原始 SQL 语句的日志，当文件达到一定的大小会切换新的文件，而不会覆盖旧的日志，所以可以进行数据恢复以及同步主库数据。

## Redo Log （重做日志）

MySQL 中记录数据页的物理修改的日志，当文件写满后会覆盖旧日志，它遵循 WAL 原则，先写日志再写数据页，所以可以在系统崩溃后进行恢复。

## Undo Log（回滚日志）

MySQL 中记录数据行修改前的状态，记录的是修改前的数据，所以可以在事务失败时恢复数据。

